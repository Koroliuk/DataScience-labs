import datetime
import re
from multiprocessing import Process, Lock

import requests
from bs4 import BeautifulSoup as bs

input_data = {
    'Всього інфіковано': [],
    'Смертельні випадки': [],
    'Видужали': [],
    'Наразі хворіють': []
}

global data
# data_check = [[1, 1, 2, 3, 3, 6, 7, 10, 10, 10, 10, 15, 16, 16, 18, 19, 22, 22, 34, 37, 38, 41, 47, 49, 49, 54, 61, 65, 66, 70, 72, 72, 81, 82, 92, 98, 115, 116, 119, 134, 138, 148, 165, 175, 178, 182, 196, 209, 222, 235, 253, 267, 267, 280, 294, 299, 329, 346, 364, 370, 381, 386, 407, 432, 444, 454, 458, 469, 497, 501, 509, 518, 518, 518, 520, 523, 529, 544, 556, 559, 560, 577, 587, 608, 612, 622, 622, 622, 627, 645, 724, 777, 791, 798, 803, 805, 808, 822, 828, 839, 842, 842, 863, 865, 881, 888, 908, 908, 909, 922, 930, 942, 963, 980, 980, 991, 994, 1008, 1021, 1037, 1059, 1059, 1069, 1086, 1109, 1138, 1163, 1180, 1189, 1200, 1232, 1257, 1286, 1323, 1346, 1368, 1376, 1413, 1468, 1514, 1539, 1581, 1618, 1628, 1678, 1768, 1828, 1904, 1946, 2010, 2047, 2062, 2102, 2194, 2297, 2402, 2481, 2519, 2630, 2740, 2848, 2979, 3100, 3195, 3253, 3355, 3497, 3695, 3850, 3968, 4008, 4058, 4133, 4198, 4339, 4481, 4631, 4823, 4937, 5049, 5185, 5361, 5531, 5622, 5747, 5896, 6068, 6188, 6432, 6647, 6801, 6968, 7263, 7473, 7732, 8062, 8464, 8792, 9011, 9230, 9491, 9684, 10098, 10480, 10818, 11035, 11239, 11561, 11942, 12413, 12863, 13300, 13482, 13845, 14228, 14706, 15227, 15724, 16148, 16422, 16928, 17439, 17989, 18438, 19017, 19493, 19839, 20328, 20826, 21392, 21954, 22450, 22879, 23136, 23547, 23952, 24485, 25290, 25820, 26227, 26430, 26624, 27114, 27703, 28350, 28917, 29419, 29577, 29751, 30228, 30943, 31412, 31856, 32286, 32429, 32539, 32960, 33426, 33958, 34417, 34800, 34840, 34919, 35157, 35632, 36027, 36360, 36755, 36814, 36840, 37142, 37600, 38004, 38333, 38378, 38408, 38471, 38833, 39187, 39692, 39932, 39946, 39972, 40012, 40328, 40739, 41002, 41049, 41234, 41275, 41293, 41641, 41870, 42016, 42226, 42394, 42395, 42434, 42599, 42801, 42935, 43040, 43243, 43245, 43260, 43429, 43671, 43818, 43941, 43948, 43951, 43964, 43964, 44393, 44624, 44756, 44853, 44877, 44908, 45044, 45279, 45424, 45551, 45672, 45682, 45732, 45930, 46132, 46329, 46539, 46710, 46716, 46834, 47069, 47354, 47616, 47888, 48125, 48157, 48262, 48557, 48914, 49332, 49708, 50069, 50235, 50243, 50395, 50902, 51393, 51998, 52531, 52860, 53113, 53816, 54616, 55471, 56342, 57082, 57280, 57656, 58650, 59639, 60679, 61501, 62177, 62605, 63116, 63780, 64922, 66273, 67417, 68477, 68916, 69268, 70180, 71338, 72432, 73196, 74007, 74156, 74538, 75392, 76480, 77372, 78016, 78556, 78656, 78854, 79571, 80441, 81081, 81560, 81901, 81941, 82136, 82619, 83080, 83408, 83854, 84063, 84093, 84208, 84344, 84510, 84918, 85296, 85523, 85538, 85538, 85691, 85923, 86257, 86449, 86587, 86599, 86702, 86880, 87032, 87153, 87324, 87370, 87386, 87504, 87597, 87719, 87825, 87901, 87957, 87963, 88007, 88064, 88143, 88194, 88228, 88263, 88267, 88300, 88364, 88423, 88464, 88498, 88530, 88530, 88590, 88640, 88682, 88717, 88749, 88758, 88763, 88769, 88795, 88844, 88860, 88882, 88884, 88887, 88887, 88896, 88908, 88934, 88950, 88955, 88957, 88964, 88974, 88990, 89009, 89016, 89020, 89022, 89028, 89046, 89056, 89061, 89066, 89071, 89071, 89090, 89104, 89113, 89132, 89142, 89148, 89148, 89171, 89185, 89206, 89222, 89263, 89267, 89271, 89289, 89324, 89356, 89393, 89416, 89443, 89446, 89481, 89530, 89586, 89625, 89682, 89687, 89687, 89730, 89775, 89834, 89902, 89971, 89997, 89997, 90009, 90033, 90081, 90180, 90220, 90282, 90287, 90337, 90430, 90492, 90596, 90674, 90719, 90722, 90807, 90911, 91041, 91232, 91351, 91486, 91490, 91599, 91823, 92046, 92353, 92513, 92804, 92822, 92961, 93306, 93654, 93997, 94273, 94490, 94546, 94687, 95134, 95617, 96224, 96544, 96971, 97059, 97237, 97786, 98345, 98953, 99599, 100125, 100412, 100639, 101283, 102069, 102724, 103147, 103531, 103782, 104083, 105037, 106039, 107333, 108408, 109305, 110239, 110654, 111673, 112790, 114072, 115222, 116180, 116873, 117319, 118403, 119516, 120708, 121765, 122879, 123539, 123978, 125119, 126208, 127298, 128313, 128959, 129273, 129660, 130463, 131404, 132222, 132957, 133555, 133750, 134013, 134821, 135599, 136280, 136906, 137314, 137436, 137712, 138298, 138892, 139434, 139927, 140262, 140342, 140595, 140985, 141523, 141913, 142187, 142427, 142513, 142747, 143107, 143505, 143872, 144165, 144348, 144425, 144661, 144844, 145231, 145530, 145748, 145871, 145910, 145927, 146108, 146404, 146665, 146927, 146999, 147019, 147027, 147196, 147586, 147886, 148059, 148134, 148148, 148357, 148708, 149075, 149518, 149920, 150232, 150300, 150539, 151164, 151932, 152966, 154030, 154988, 155524, 156103, 157574, 158965, 160830, 163016, 164899, 166991, 168061, 169827, 172110, 174191, 176605, 178675, 180388, 181598, 183691, 185800, 187656, 189469, 190888, 191452, 192131, 193570, 195387, 196741, 197639, 198500, 198703, 199236, 200409, 201270], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11, 11, 12, 13, 13, 13, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 15, 15, 15, 15, 15, 17, 17, 17, 17, 18, 18, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 25, 25, 25, 25, 25, 26, 29, 30, 31, 31, 31, 31, 31, 31, 31, 33, 33, 37, 38, 38, 38, 38, 41, 41, 41, 43, 43, 45, 46, 47, 52, 52, 52, 52, 52, 56, 56, 59, 61, 76, 78, 79, 82, 85, 86, 89, 90, 92, 93, 95, 96, 98, 99, 103, 103, 109, 110, 114, 120, 125, 131, 132, 135, 139, 140, 144, 151, 160, 162, 164, 172, 172, 172, 175, 175, 178, 181, 185, 189, 191, 191, 197, 200, 203, 204, 213, 216, 220, 222, 225, 228, 239, 241, 251, 281, 328, 337, 340, 343, 348, 351, 356, 361, 362, 363, 366, 374, 379, 391, 396, 400, 400, 405, 410, 421, 424, 431, 432, 433, 442, 446, 455, 457, 466, 474, 481, 483, 503, 506, 514, 516, 523, 524, 544, 550, 565, 580, 587, 591, 592, 603, 628, 631, 638, 643, 646, 648, 657, 670, 674, 684, 686, 689, 689, 696, 699, 702, 704, 706, 706, 706, 710, 715, 721, 728, 734, 737, 739, 744, 750, 755, 759, 759, 763, 764, 772, 778, 782, 783, 784, 785, 788, 795, 796, 799, 802, 805, 805, 805, 814, 816, 822, 824, 828, 831, 832, 840, 845, 859, 860, 860, 860, 860, 868, 870, 870, 871, 880, 880, 881, 892, 893, 902, 908, 915, 919, 920, 921, 927, 939, 946, 956, 962, 962, 976, 983, 987, 1003, 1016, 1024, 1025, 1043, 1057, 1072, 1081, 1087, 1097, 1100, 1128, 1156, 1173, 1190, 1209, 1213, 1218, 1247, 1280, 1300, 1312, 1329, 1333, 1335, 1361, 1378, 1400, 1423, 1431, 1449, 1451, 1475, 1500, 1519, 1526, 1535, 1543, 1546, 1568, 1578, 1598, 1614, 1622, 1624, 1626, 1632, 1640, 1659, 1673, 1685, 1692, 1694, 1701, 1712, 1718, 1722, 1736, 1737, 1738, 1748, 1756, 1763, 1770, 1775, 1777, 1777, 1782, 1785, 1791, 1794, 1797, 1800, 1800, 1803, 1819, 1828, 1831, 1836, 1836, 1836, 1837, 1840, 1844, 1845, 1845, 1845, 1845, 1846, 1847, 1852, 1853, 1854, 1856, 1856, 1857, 1858, 1858, 1859, 1859, 1859, 1859, 1859, 1862, 1868, 1871, 1876, 1877, 1878, 1879, 1879, 1879, 1880, 1881, 1881, 1881, 1881, 1881, 1884, 1885, 1885, 1885, 1885, 1887, 1887, 1887, 1888, 1889, 1889, 1889, 1890, 1890, 1892, 1893, 1893, 1893, 1893, 1895, 1895, 1895, 1895, 1895, 1895, 1895, 1896, 1896, 1899, 1899, 1900, 1900, 1900, 1907, 1908, 1909, 1910, 1911, 1911, 1911, 1911, 1913, 1915, 1917, 1918, 1919, 1919, 1924, 1926, 1928, 1928, 1929, 1931, 1931, 1935, 1935, 1936, 1943, 1946, 1946, 1946, 1951, 1953, 1960, 1962, 1965, 1968, 1968, 1976, 1978, 1980, 1982, 1990, 1992, 1994, 1995, 2002, 2010, 2013, 2021, 2032, 2032, 2059, 2066, 2075, 2085, 2100, 2102, 2107, 2120, 2127, 2138, 2141, 2150, 2154, 2160, 2182, 2201, 2213, 2225, 2250, 2257, 2261, 2294, 2321, 2338, 2352, 2364, 2371, 2375, 2417, 2444, 2463, 2477, 2489, 2518, 2524, 2570, 2597, 2616, 2637, 2665, 2671, 2685, 2717, 2742, 2762, 2791, 2803, 2810, 2817, 2846, 2862, 2877, 2896, 2917, 2923, 2931, 2955, 2971, 2996, 3012, 3026, 3034, 3036, 3058, 3079, 3095, 3108, 3117, 3124, 3129, 3154, 3169, 3181, 3190, 3205, 3208, 3211, 3241, 3248, 3262, 3271, 3279, 3282, 3283, 3286, 3308, 3315, 3322, 3329, 3332, 3334, 3337, 3355, 3363, 3366, 3366, 3367, 3369, 3390, 3395, 3399, 3406, 3410, 3412, 3412, 3423, 3432, 3435, 3438, 3442, 3444, 3445, 3455, 3461, 3472, 3475, 3478, 3483, 3483, 3492, 3505, 3513, 3521, 3528, 3532, 3535, 3544, 3548, 3563, 3568, 3578, 3584, 3585, 3608, 3615, 3628, 3637, 3657, 3663, 3667, 3676, 3693, 3703], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 4, 5, 5, 5, 5, 7, 7, 12, 16, 16, 18, 18, 20, 26, 27, 27, 27, 28, 30, 35, 43, 48, 49, 53, 53, 54, 54, 55, 55, 65, 67, 67, 73, 80, 89, 89, 99, 100, 117, 130, 157, 206, 232, 233, 234, 245, 259, 276, 306, 321, 337, 337, 338, 348, 355, 387, 407, 416, 416, 422, 435, 460, 474, 477, 492, 492, 493, 503, 515, 526, 536, 541, 543, 544, 548, 558, 572, 589, 593, 594, 602, 603, 616, 638, 645, 726, 756, 770, 778, 789, 804, 818, 825, 825, 826, 834, 860, 873, 878, 889, 889, 896, 903, 914, 925, 938, 941, 941, 949, 970, 990, 1001, 1012, 1021, 1037, 1045, 1045, 1053, 1094, 1109, 1113, 1118, 1156, 1156, 1172, 1173, 1202, 1202, 1202, 1202, 1237, 1240, 1269, 1309, 1348, 1363, 1372, 1401, 1402, 1436, 1479, 1497, 1498, 1545, 1595, 1675, 1703, 1747, 1757, 1757, 1828, 1867, 1966, 2010, 2044, 2046, 2060, 2103, 2171, 2225, 2273, 2334, 2351, 2352, 2444, 2535, 2645, 2802, 2950, 3017, 3051, 3123, 3380, 3479, 3642, 3712, 3734, 3775, 3835, 3965, 3965, 4128, 4345, 4460, 4560, 4726, 4943, 5218, 5479, 5674, 5782, 5882, 6059, 6189, 6321, 6527, 6797, 7090, 7136, 7552, 7752, 8204, 8717, 9292, 9561, 9766, 10078, 10411, 10831, 11166, 11487, 11724, 11935, 12388, 12820, 13328, 13698, 14162, 14360, 14590, 15089, 15454, 15848, 16095, 16492, 16580, 16717, 17254, 17810, 18820, 19992, 21082, 21612, 21745, 22437, 23062, 23636, 24116, 24666, 24901, 25105, 25906, 26624, 27089, 27669, 28176, 28467, 28643, 29340, 30228, 30764, 31246, 31349, 31438, 31613, 32083, 32676, 33429, 33755, 33850, 33926, 33968, 34408, 35296, 35789, 35849, 35927, 36049, 36119, 36437, 36732, 37005, 37218, 37451, 37572, 37626, 37888, 38168, 38643, 39016, 39182, 39262, 39323, 39666, 39944, 40143, 40404, 40579, 40642, 40663, 40855, 41030, 41188, 41309, 41527, 41529, 41535, 41733, 42098, 42314, 42535, 42683, 42715, 42715, 42913, 43060, 43201, 43333, 43469, 43490, 43490, 43713, 43890, 44016, 44160, 44317, 44334, 44337, 44561, 44780, 45078, 45286, 45454, 45523, 45528, 45555, 45764, 45968, 46240, 46422, 46474, 46477, 46762, 47013, 47464, 47786, 47995, 48189, 48207, 48511, 48718, 49019, 49299, 49587, 49701, 49794, 50126, 50632, 51393, 51836, 52219, 52402, 52476, 53248, 54089, 54725, 55517, 56069, 56225, 56337, 57275, 58122, 58842, 59659, 60277, 60499, 60531, 61279, 62095, 63474, 64216, 64857, 65159, 65301, 66265, 67323, 68187, 69183, 70017, 70231, 70290, 70546, 71206, 71845, 72844, 74214, 74470, 74643, 74847, 75635, 76480, 77165, 77672, 77923, 77945, 78726, 79428, 79838, 80233, 80702, 80868, 80904, 81323, 81729, 82086, 82573, 82954, 83087, 83142, 83517, 83824, 84083, 84263, 84445, 84516, 84530, 84761, 85013, 85251, 85458, 85565, 85571, 85574, 85763, 85897, 85954, 86002, 86053, 86053, 86053, 86059, 86106, 86194, 86218, 86291, 86291, 86291, 86296, 86382, 86472, 86536, 86586, 86587, 86587, 86639, 86756, 86812, 86863, 86907, 86908, 86908, 86940, 86956, 86981, 86995, 87021, 87021, 87021, 87046, 87072, 87085, 87097, 87106, 87106, 87106, 87114, 87119, 87125, 87134, 87136, 87136, 87136, 87148, 87161, 87172, 87194, 87211, 87211, 87211, 87224, 87241, 87257, 87274, 87303, 87303, 87303, 87329, 87353, 87367, 87398, 87437, 87437, 87440, 87444, 87444, 87518, 87563, 87609, 87623, 87623, 87680, 87728, 87750, 87805, 87856, 87857, 87858, 87918, 87951, 87997, 88037, 88106, 88130, 88130, 88193, 88230, 88277, 88382, 88480, 88486, 88488, 88608, 88690, 88770, 88828, 88944, 88947, 88996, 89149, 89306, 89427, 89552, 89721, 89802, 89803, 90014, 90161, 90278, 90602, 90910, 90968, 90973, 91197, 91501, 91827, 91988, 92169, 92217, 92278, 92929, 93495, 93938, 94343, 94943, 95284, 95390, 95798, 96380, 96908, 97472, 98142, 98403, 98471, 99086, 99616, 100148, 100816, 101317, 101580, 101871, 102578, 103247, 103844, 105195, 107821, 108250, 108987, 109733, 110512, 111350, 112595, 113745, 114035, 114268, 115202, 116099, 117112, 118027, 118839, 119307, 119649, 120765, 122558, 123450, 124475, 125210, 125603, 125913, 127021, 128014, 129135, 129856, 131027, 131306, 131511, 132127, 132838, 133728, 134324, 135016, 135037, 135262, 135867, 136444, 136954, 137771, 138075, 138240, 138289, 138335, 138904, 139380, 139735, 139872, 139925, 139975, 139999, 140498, 140783, 141029, 141122, 141139, 141165, 141407, 141628, 141809, 142019, 142245, 142270, 142274, 142608, 142795, 142973, 143216, 143363, 143424, 143427, 143731, 144038, 144341, 144614, 144946, 145105, 145341, 145902, 146459, 147134, 147855, 148878, 149395, 149745, 150783, 151809, 153058, 154201, 155552, 156267, 156705, 157972, 158910, 160475, 161924, 163465, 164675, 165220, 167534, 170177, 172445], [1, 1, 2, 3, 3, 6, 7, 10, 10, 10, 10, 15, 16, 16, 17, 14, 17, 17, 29, 32, 33, 35, 40, 42, 41, 45, 49, 53, 49, 49, 51, 49, 58, 57, 61, 66, 83, 83, 85, 97, 96, 98, 110, 119, 118, 122, 135, 147, 158, 171, 179, 191, 191, 198, 205, 201, 231, 238, 255, 243, 241, 219, 191, 190, 200, 209, 202, 199, 210, 184, 176, 168, 168, 167, 158, 154, 128, 123, 126, 129, 124, 128, 113, 120, 121, 116, 115, 114, 109, 115, 183, 224, 233, 238, 242, 239, 232, 231, 220, 227, 228, 220, 240, 229, 223, 223, 162, 132, 119, 122, 119, 116, 123, 133, 132, 142, 137, 125, 125, 136, 147, 147, 150, 159, 171, 189, 201, 215, 224, 226, 237, 242, 260, 286, 299, 302, 301, 337, 384, 389, 399, 437, 469, 441, 489, 563, 618, 664, 706, 770, 807, 784, 821, 884, 945, 1011, 1073, 1101, 1182, 1286, 1360, 1448, 1551, 1645, 1652, 1704, 1763, 1931, 2027, 2133, 2172, 2148, 2181, 2146, 2240, 2347, 2493, 2670, 2739, 2782, 2862, 2989, 3094, 3168, 3286, 3342, 3419, 3423, 3505, 3566, 3652, 3782, 4001, 3953, 4109, 4269, 4592, 4896, 5072, 5223, 5354, 5547, 5795, 5960, 6180, 6294, 6328, 6429, 6533, 6743, 6992, 7318, 7397, 7582, 7826, 8169, 8480, 8705, 8833, 9058, 9137, 9446, 9534, 9440, 9397, 9595, 9733, 9907, 10067, 10210, 10432, 10602, 10793, 10838, 10793, 10758, 10778, 11201, 11262, 11467, 11440, 11130, 11250, 11434, 11831, 11994, 12407, 12427, 12055, 11972, 11668, 10963, 10308, 10200, 10203, 9619, 9395, 9284, 9328, 9235, 9376, 9211, 8469, 7983, 7978, 7778, 7597, 7697, 7579, 6897, 6286, 6205, 6120, 6341, 6294, 6147, 5731, 5487, 5084, 5253, 5396, 5331, 5315, 4908, 4333, 4248, 4449, 4416, 4479, 4450, 4146, 4194, 4144, 4070, 4041, 4085, 4030, 3802, 3681, 3403, 3160, 3099, 3218, 3158, 2822, 2707, 2746, 2631, 2578, 2521, 2500, 2314, 2138, 2406, 2513, 2424, 2519, 2537, 2361, 2130, 2143, 2065, 2040, 2126, 2135, 1979, 2025, 2072, 2136, 2210, 2360, 2366, 2253, 2309, 2468, 2585, 2691, 2911, 2939, 2809, 2884, 2934, 3138, 3339, 3627, 3787, 3767, 3704, 3995, 4207, 4620, 5095, 5421, 5375, 5820, 6165, 6682, 7331, 7869, 8048, 8102, 8875, 9548, 10299, 10827, 11379, 11711, 11862, 11992, 12356, 13247, 13989, 14862, 15222, 14773, 14811, 15313, 15603, 15798, 16449, 16484, 15902, 15892, 16238, 16290, 16308, 16608, 16674, 16100, 15976, 15448, 15339, 15168, 15199, 15094, 14303, 13718, 13295, 12611, 12215, 12208, 12177, 12030, 11498, 11006, 10401, 9397, 9361, 9201, 8990, 8344, 7725, 7370, 7041, 6927, 6916, 6228, 5696, 5431, 5150, 4847, 4725, 4705, 4399, 4083, 3842, 3458, 3150, 3070, 3021, 2687, 2421, 2232, 2100, 1947, 1911, 1901, 1702, 1511, 1328, 1161, 1088, 1114, 1111, 981, 896, 876, 862, 842, 849, 854, 853, 831, 792, 783, 732, 734, 737, 732, 652, 568, 527, 488, 491, 492, 446, 339, 299, 266, 228, 231, 233, 207, 209, 191, 181, 160, 165, 165, 157, 145, 141, 147, 147, 153, 153, 167, 176, 189, 195, 234, 238, 242, 246, 268, 289, 304, 310, 337, 340, 361, 393, 430, 452, 479, 484, 484, 494, 514, 558, 594, 623, 649, 646, 654, 676, 648, 700, 693, 740, 745, 733, 776, 814, 863, 889, 931, 933, 954, 1025, 1108, 1252, 1299, 1410, 1414, 1455, 1640, 1809, 2009, 2068, 2350, 2366, 2377, 2638, 2904, 3187, 3339, 3551, 3556, 3543, 3826, 4180, 4659, 4802, 5137, 5224, 5164, 5559, 5992, 6266, 6589, 7055, 7332, 7322, 7655, 8104, 8595, 8828, 9160, 9344, 8972, 9341, 9888, 10765, 11215, 11764, 12588, 12562, 12972, 13544, 14248, 14716, 15406, 16027, 15816, 16343, 16905, 17415, 17959, 18781, 19144, 18830, 19275, 19748, 19466, 17827, 18038, 17601, 17210, 17209, 17292, 16836, 16409, 16710, 16665, 15965, 15860, 15610, 15357, 15150, 15084, 14856, 13992, 12769, 12446, 11947, 11691, 11625, 11393, 10516, 9892, 9293, 8949, 8043, 7997, 7873, 7466, 7100, 6596, 6358, 5944, 6103, 5952, 5553, 5152, 5015, 4488, 4394, 4349, 4338, 4306, 3896, 3709, 3608, 3726, 3742, 3710, 3691, 3343, 3440, 3491, 3571, 3628, 3614, 3560, 3685, 3867, 4093, 4265, 4550, 4614, 4508, 4937, 5524, 6312, 7225, 8120, 8652, 8917, 10075, 11152, 12741, 14592, 16311, 18167, 18667, 19863, 21463, 22815, 24199, 25748, 27108, 27271, 28334, 29179, 29887, 30339, 31037, 31162, 30551, 31045, 31284, 31180, 30517, 30162, 29816, 28026, 26539, 25122]]
data = [[], [], [], []]
base_url = 'https://index.minfin.com.ua/ua/reference/coronavirus/ukraine'
region_name = 'Хмельницька'

start_date = datetime.date(2020, 3, 28)
end_date = datetime.date(2022, 2, 24)
# end_date = datetime.date(2020, 4, 10)
delta = datetime.timedelta(days=1)


def get_values_from_date(date, lock):
    full_url = base_url + '/' + str(date) + '/'
    response = requests.get(full_url)
    if response.ok:
        soup = bs(response.text, 'lxml')
        region_href = soup.find('a', href='reference/coronavirus/ukraine/hmelnickaya/')
        region_all_data = region_href.parent.parent
        region_data = region_all_data.find_all('td', class_='blank', align="right")
        for i in range(4):
            found = region_data[i].contents[0]
            if found.name != 'br':
                lock.acquire()
                data[i].append(int(found))
                lock.release()
            else:
                lock.acquire()
                data[i].append(0)
                lock.release()
    else:
        print('Connection issues')


proc_lock = Lock()
procs = []
start_time = datetime.datetime.now()
while start_date <= end_date:
    proc = Process(target=get_values_from_date(start_date, proc_lock))
    proc.start()
    procs.append(proc)
    start_date += delta

for proc in procs:
    proc.join()

print(f'Time taken {datetime.datetime.now()-start_time}')
print(data)
